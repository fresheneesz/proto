/* Copyright (c) 2013 Billy Tetrud - Free to use for any purpose: MIT License*/
!function(r){function t(){function r(){var r=new v;if(c[s]){var n=c[s].apply(r,arguments);return n===t[i]?e:n!==e?n:r}return r}var o=arguments;if(1==o.length)var u={},p=o[0];else var u=o[0],p=o[1];-1!==[Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError].indexOf(u)&&(u=n(u));var f="function"==typeof u;p[a]=f?u[a]:u;var c=new p(u);c.constructor=r,!c[s]&&f&&(c[s]=function(){u.apply(this,arguments)});var v=function(){};v[a]=c;for(var y in c)r[y]=c[y];return r[a]=c,r}function n(r){function t(){var t=r.apply(this,arguments);return this.stack=t.stack,this.message=t.message,this}var n=function(){};return n.prototype=r.prototype,t.prototype=new n,t}var e,o={exports:r},a="prototype",i="undefined",s="init";({}).hasOwnProperty,t[i]={},o.exports=t}(this);